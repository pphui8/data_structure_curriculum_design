# data structure curriculum design
## 项目描述
景区旅游信息管理系统 在旅游景区，经常会遇到游客打听从一个景点到另一个景点的最短路径和最短距离， 这类游客不喜欢按照导游图的线路来游览，而是挑选自己感兴趣的景点游览。为于帮助这 类游客信息查询，就需要计算出所有景点之间最短路径和最短距离。算法采用迪杰斯特拉 算法或弗洛伊德算法均可。
建立一个景区旅游信息管理系统，实现的主要功能包括制订旅 游景点导游线路策略和制订景区道路铺设策略。   
任务中景点分布是一个无向带权连通图，图中边的权值是景点之间的距离。  
（1）景区旅游信息管理系统中制订旅游景点导游线路策略，首先通过遍历景点，给出 一个入口景点，建立一个导游线路图，导游线路图用有向图表示。遍历采用深度优先策 略，这也比较符合游客心理。  
（2）为了使导游线路图能够优化，可通过拓朴排序判断图中有无回路，若有回路，则 打印输出回路中的景点，供人工优化。  
（3）在导游线路图中，还为一些不愿按线路走的游客提供信息服务，比如从一个景点 到另一个景点的最短路径和最短距离。在本线路图中将输出任意景点间的最短路径和最短 距离。  
（4）在景区建设中，道路建设是其中一个重要内容。道路建设首先要保证能连通所有 景点，但又要花最小的代价，可以通过求最小生成树来解决这个问题。本任务中假设修建 道路的代价只与它的里程相关。 
归纳起来，本任务有如下功能模块：  
（1）创建景区景点分布图；  
（2）输出景区景点分布 图（邻接矩阵）  
（3）输出导游线路图；  
（4）判断导游线路图有无回路；  
（5）求两个景点间的 最短路径和最短距离；  
（6）输出道路修建规划图。  
（7）主程序用菜单选项供用户选择功能模 块
性能要求：要求在winx86系统下能够有较高的反应速度。  
内存限制：256MB  
数据特征：数据为带景点名称的节点数据  
面向的人群对象：道路修建面向有相关知识的专业从业人员，而其它功能将面向普通群众。    
## 数据的存储结构设计
- 图的存储  
此次课程设计中的问题主要采用有向图求解，使用邻接表的方式对数据进行存储。采用邻接表的存储方式的理由有下：
1．相对使用邻接矩阵的存储方法，使用邻接表存储图，没有存储空间大小的限制，也不会在数据量相对较小时浪费存储空间。
2．此次课程设计中我采用了java语言来编写，将数据类型以一个类来定义，更容易体现java语言面向对象的特点，也使得编码更加容易，数据结构更加清晰。也利于后期代码的修改，增加代码的灵活性。
3．在Prim算法中，由于该算法单独只用于解决景区道路修建问题，所以单独使用邻接矩阵存储，若在使用时不使用此功能则不会占用内存。
- 已保存的景点数据存储
已保存的景点数据采用.xml进行存储，原因有下：
1.	xml有良好的可读性与可移植性
2.	方便数据的拓展
3.	适合面向对象地程序开发
## 项目主要算法
1.	为导出旅游推荐线路图，采用深度优先搜索导出线路  
伪代码：
```
入队首节点
while(队列不为空) {
		出队，
		便利邻接表中的节点
		没有访问过的入队
}
```
时间复杂度：O(n)，与节点数和边数正相关

2.	判断导游线路图是否有回路，采用拓扑排序  
伪代码：
```
	统计所有节点入读
	入队入度为0的节点
	while(队列不为空) {
		出队队首，
		将其指向的节点入读减一，
		count++；
	}
	如果count小于节点数，则有环
	如果不小于，则无环
```
时间复杂度：O(2n)
3.	若有回路输出回路，采用深度优先算法  
伪代码：
```
入队首节点
while(队列不为空) {
		出队，
		便利邻接表中的节点
		没有访问过的入队
		如果访问过，则说明有环{
			从该点回溯至上次到达该点，输出
		}
}
```
时间复杂度：O(n^2)
4.	查找两个景点之间的最短路径与最短距离，使用弗洛伊德算法  
伪代码：
```
初始化dist数组与path数组
枚举顶点k
	以顶点k为中介点，枚举所有顶点对i和j
		如果dis[i][k] + dis[k][j] <dis[i][j]成立
			赋值dis[i][j] = dis[i][k] + dis[k][j]
			赋值path[i][j]=path[i][k]
```
时间复杂度：O(n^3)
4.景区的道路修建问题，使用prim算法
伪代码：
```
初始化；
for(第二个节点到最后一个节点)
	遍历与当前结点相连接的各个结点的权值并找出具有最小权值的结点
	将上面找到的结点加入到集合中
	更新父d[]，将k结点与其它结点连接的最小权值放进d[j]中
```
时间复杂度：O(n^2)
## 包
```
resource
│  start.java
│
├─data_structure
│      GraphAdjList.java
│      IGraph.java
│      IQueue.java
│      IStack.java
│      MyQueue.java
│      MyStack.java
│      Prim.java
│
├─plugin
│      View_Point.java
│
├─resource
│      resource.xml
│      xml_reader.java
│
└─UI
        略
```
